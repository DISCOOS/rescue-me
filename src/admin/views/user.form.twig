{% extends 'form.twig' %}

{% if not object %}
    {% set object = {'name': '', 'mobile_country': country, 'mobile': '', 'email': '', 'role_id': 2} %}
{% endif %}


{% block content %}
    <div class="input-block-level">
        <label class="control-label" for="name">{{ T_('Full name') }}</label>
        <input id="name" name="name" type="text" value="{{ object.name }}" placeholder="{{ T_('Enter full name') }}" class="input-block-level" required autofocus>
        <div class="row-fluid">
            <div class="span3">
                <label class="control-label" for="mobile_country">{{ T_('Country code') }}</label>
                {% embed "select.twig" with {'id': 'mobile_country', 'options': countries, 'selected': object.mobile_country} %}{% endembed %}
            </div>
            <div class="span3">
                <label class="control-label" for="mobile">{{ T_('Mobile phone') }}</label>
                <input id="mobile" name="mobile" type="tel" value="{{ object.mobile }}" placeholder="{{ T_('Enter number') }}" class="input-block-level" pattern="[0-9]*" required>
            </div>
            <div class="span6">
                <label class="control-label" for="email">{{ T_('Email') }}</label>
                <input id="email" name="email" type="email" value="{{ object.email }}" placeholder="{{ T_('Enter valid email') }}" class="input-block-level" required email>
            </div>
            <div class="row-fluid">
            {% if object.id is not defined %}
                <div class="span3">
                    <label class="control-label" for="password">Passord</label>
                    <input id="password" name="password" type="password" placeholder="{{ T_('Minimum %1$s characters') | format(security.password.length) }}" class="input-block-level" minlength="{{ security.password.length }}" required="">
                </div>
                <div class="span3">
                    <label class="control-label" for="repeat-pwd">Gjenta passord</label>
                    <input id="repeat-pwd" name="repeat-pwd" type="password" placeholder="{{ T_('Minimum %1$s characters') | format(security.password.length) }}" class="input-block-level" equalTo="#password" required>
                </div>
            {% endif %}
            {% if secure %}
                {% if other %}
                <div class="{% if object.id is not defined %}span2{% else %}span3{% endif %}">
                    <label class="control-label" for="role_id">{{ T_('Role') }}</label>
                    {% embed "select.twig" with {'id': 'role_id', 'options': roles, 'selected': object.role_id} %}{% endembed %}
                </div>
                {% endif %}
                <div class="span4">
                    <label class="control-group" for="use_system_sms_provider">{{ T_('Use system SMS provider') }}</label>
                    <input id="use_system_sms_provider" name="use_system_sms_provider" type="checkbox" class="input-block-level">
                </div>
            {% endif %}
            </div>
        </div>
    </div>
{% endblock %}